(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b5608ee"],{2934:function(e,t,s){"use strict";s("7703")},"3d05":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"app-container"},[s("table-search",{attrs:{config:e.searchConfig},on:{handleQuery:e.handleQuery,resetQuery:e.handleQuery}}),s("el-button",{staticClass:"btn",attrs:{type:"primary",size:"mini"},on:{click:e.handleToApplyList}},[e._v("前往我的申请列表")]),s("process-choose",{attrs:{data:e.activeKeyAll},on:{chooseProcess:e.chooseProcess},model:{value:e.activeKey,callback:function(t){e.activeKey=t},expression:"activeKey"}}),s("Dialog",{attrs:{visible:e.visible,title:e.title,footer:!1,width:"50%"},on:{close:e.close}},[s(e.lcModa.formComponent,{tag:"component",attrs:{disabled:e.lcModa.disabled,processData:e.lcModa.processData,isNew:e.lcModa.isNew},on:{afterSubmit:e.afterSub,close:e.close}})],1)],1)},o=[],i=s("b85c"),c=(s("b0c0"),s("14d9"),s("d4e0")),n=s("568c"),r=s("2ef0"),l=s("2140"),u=s("f8ab"),h=s("9039"),f=s("ecb5"),d={name:"ApplyHome",mixins:[u["a"]],components:{Dialog:h["a"],ProcessChoose:l["a"],TableSearch:n["a"],DialogForm:c["a"]},data:function(){return{lcModa:{disabled:!1,formComponent:null,isNew:!1,processData:{}},visible:!1,title:"发起流程",query:{},activeKey:[],activeKeyAll:[],searchConfig:[{type:"input",model:"searchProcessKey",placeholder:"输入流程名称"}]}},mounted:function(){this.getProcessList()},methods:{filterDictText:function(e,t){if(e instanceof Array){var s,a=Object(i["a"])(e);try{for(a.s();!(s=a.n()).done;){var o=s.value;if(t===o.value)return o.text}}catch(c){a.e(c)}finally{a.f()}}return t||"null"==t?"":t},handleQuery:function(e){this.query=e,this.getProcessList()},getProcessList:function(){var e=this;Object(f["a"])({status:1,roles:!1}).then((function(t){if(200===t.code){var s=t.data||[];if(e.activeKeyAll=[],e.query.searchProcessKey){var a=e.query.searchProcessKey;s=Object(r["filter"])(s,(function(e){return e.name.indexOf(a)>-1}))||[]}if(0!==s.length){var o=Object(r["groupBy"])(s,"categoryId");for(var i in o)e.activeKeyAll.push({categoryId:i,processList:o[i]}),e.activeKey.push(i)}else e.activeKeyAll=[],e.activeKey=[]}}))},chooseProcess:function(e){if(!e.routeName)return this.$modal.msgWarning("该流程信息未配置表单，请联系开发人员！");this.title="发起流程："+(e.name||""),this.lcModa.formComponent=this.getFormComponent(e.routeName).component,this.lcModa.isNew=!0,this.lcModa.processData=e,this.visible=!0},handleToApplyList:function(){this.$router.push({path:"/activiti/applyList"})},afterSub:function(){this.visible=!1,this.$modal.msgSuccess("请前往我的申请列表提交审批！")},close:function(){this.visible=!1}}},p=d,y=(s("2934"),s("2877")),v=Object(y["a"])(p,a,o,!1,null,"197a57f2",null);t["default"]=v.exports},7703:function(e,t,s){}}]);